"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[509],{4509:(e,t,o)=>{o.r(t),o.d(t,{default:()=>w});var n=o(5155),r=o(2115),s=o(4987),i=o(2045);let a=s.Ay.section.withConfig({componentId:"sc-a1f081c6-0"})(["padding:4rem 1.5rem;text-align:center;background-color:",";"],e=>"beige"===e.$bgColor?"#F8F6F2":"white"),c=s.Ay.h2.withConfig({componentId:"sc-a1f081c6-1"})(["position:relative;display:inline-block;margin-bottom:2rem;font-weight:500;font-size:1.5rem;&::after{content:'';position:absolute;bottom:-16px;left:50%;transform:translateX(-50%);width:6px;height:6px;border-radius:50%;background-color:var(--secondary-color);}"]),l=s.Ay.p.withConfig({componentId:"sc-a1f081c6-2"})(["margin-bottom:2rem;font-size:0.9rem;color:var(--text-medium);line-height:1.6;"]),d=s.Ay.div.withConfig({componentId:"sc-a1f081c6-3"})(["padding:0.75rem;margin-bottom:1.5rem;border-radius:4px;text-align:center;font-size:0.9rem;background-color:",";color:",";max-width:36rem;margin-left:auto;margin-right:auto;"],e=>"true"===e.$success?"#e7f3eb":"#fbedec",e=>"true"===e.$success?"#2e7d32":"#c62828"),p=s.Ay.form.withConfig({componentId:"sc-a1f081c6-4"})(["display:flex;flex-direction:column;gap:1.5rem;max-width:36rem;margin:0 auto;text-align:left;"]),u=s.Ay.div.withConfig({componentId:"sc-a1f081c6-5"})(["display:flex;flex-direction:column;gap:0.5rem;"]),m=s.Ay.div.withConfig({componentId:"sc-a1f081c6-6"})(["display:flex;flex-direction:row;gap:1rem;@media (max-width:576px){flex-direction:column;}"]),g=s.Ay.div.withConfig({componentId:"sc-a1f081c6-7"})(["display:flex;flex-direction:column;gap:0.5rem;flex:1;"]),h=s.Ay.label.withConfig({componentId:"sc-a1f081c6-8"})(["font-size:0.9rem;color:var(--text-dark);"]),f=s.Ay.input.withConfig({componentId:"sc-a1f081c6-9"})(["padding:0.75rem;border:none;border-bottom:1px solid var(--secondary-color);font-size:1rem;background-color:transparent;&:focus{outline:none;border-bottom:1px solid var(--text-dark);}"]),x=s.Ay.div.withConfig({componentId:"sc-a1f081c6-10"})(["display:flex;gap:0.5rem;"]),b=s.Ay.button.withConfig({componentId:"sc-a1f081c6-11"})(["flex:1;padding:0.75rem;border:1px solid ",";border-radius:4px;background-color:",";color:",";font-size:0.9rem;cursor:pointer;transition:all 0.2s ease;position:relative;overflow:hidden;&:hover{border-color:var(--secondary-color);}&:after{content:'';position:absolute;top:50%;left:50%;width:5px;height:5px;background:rgba(255,255,255,0.5);opacity:0;border-radius:100%;transform:scale(1,1) translate(-50%);transform-origin:50% 50%;}&:active:after{animation:ripple 0.6s ease-out;}@keyframes ripple{0%{transform:scale(0,0);opacity:0.5;}20%{transform:scale(25,25);opacity:0.3;}100%{opacity:0;transform:scale(40,40);}}"],e=>e.$selected?"var(--secondary-color)":"#ccc",e=>e.$selected?"var(--secondary-color)":"transparent",e=>e.$selected?"white":"var(--text-medium)"),y=s.Ay.select.withConfig({componentId:"sc-a1f081c6-12"})(["padding:0.75rem;border:none;border-bottom:1px solid var(--secondary-color);font-size:1rem;background-color:transparent;&:focus{outline:none;border-bottom:1px solid var(--text-dark);}"]);s.Ay.textarea.withConfig({componentId:"sc-a1f081c6-13"})(["padding:0.75rem;border:1px solid var(--secondary-color);border-radius:4px;font-size:1rem;resize:vertical;&:focus{outline:none;border-color:var(--text-dark);}"]);let v=s.Ay.button.withConfig({componentId:"sc-a1f081c6-14"})(["padding:0.75rem;background-color:var(--secondary-color);color:white;border:none;border-radius:4px;font-size:1rem;cursor:pointer;transition:all 0.2s ease;position:relative;overflow:hidden;box-shadow:0 1px 3px rgba(0,0,0,0.1);&:hover{background-color:#c4a986;box-shadow:0 2px 5px rgba(0,0,0,0.15);}&:active{transform:translateY(1px);}&:after{content:'';position:absolute;top:50%;left:50%;width:5px;height:5px;background:rgba(255,255,255,0.5);opacity:0;border-radius:100%;transform:scale(1,1) translate(-50%);transform-origin:50% 50%;}&:active:after{animation:ripple 0.6s ease-out;}&:disabled{background-color:#ccc;cursor:not-allowed;box-shadow:none;}"]),w=e=>{var t,o;let{bgColor:s="white"}=e,[w,C]=(0,r.useState)({name:"",isAttending:null,guestCount:1,side:"",hasMeal:null}),[j,k]=(0,r.useState)(!1),[A,I]=(0,r.useState)(null),$=null==(o=null==(t=i.f.rsvp)?void 0:t.showMealOption)||o,M=e=>{C({...w,isAttending:e,guestCount:+!!e,hasMeal:e?w.hasMeal:null})},z=e=>{C({...w,side:e})},S=e=>{C({...w,hasMeal:e})},O=async e=>{if(e.preventDefault(),!w.name||null===w.isAttending||!w.side)return void I({success:!1,message:"이름, 참석 여부, 신부/신랑측 여부를 모두 입력해주세요."});if($&&w.isAttending&&null===w.hasMeal)return void I({success:!1,message:"식사 여부를 선택해주세요."});k(!0);try{let e=new Date;if((await fetch("/api/rsvp",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:w.name,side:"BRIDE"===w.side?"신부측":"신랑측",isAttending:w.isAttending,guestCount:w.isAttending?w.guestCount:0,hasMeal:!!w.isAttending&&w.hasMeal,timestamp:e.toISOString()})})).ok)I({success:!0,message:"참석 여부가 성공적으로 전송되었습니다. 감사합니다."}),C({name:"",isAttending:null,guestCount:1,side:"",hasMeal:null});else throw Error("서버 응답 오류")}catch(e){console.error("RSVP 제출 오류:",e),I({success:!1,message:"참석 여부 전송 중 오류가 발생했습니다. 다시 시도해 주세요."})}finally{k(!1)}};return(0,n.jsxs)(a,{$bgColor:s,children:[(0,n.jsx)(c,{children:"참석 여부 회신"}),(0,n.jsxs)(l,{children:["소중한 날에 함께해 주실 수 있는지 알려주세요.",(0,n.jsx)("br",{}),"정성을 다해 준비할 수 있도록",(0,n.jsx)("br",{}),"참석 여부를 알려주시면 진심으로 감사하겠습니다."]}),A&&(0,n.jsx)(d,{$success:A.success.toString(),children:A.message}),(0,n.jsxs)(p,{onSubmit:O,children:[(0,n.jsxs)(u,{children:[(0,n.jsx)(h,{htmlFor:"name",children:"이름"}),(0,n.jsx)(f,{type:"text",id:"name",name:"name",value:w.name,onChange:e=>{let{name:t,value:o}=e.target;C({...w,[t]:o})},placeholder:"이름을 입력해 주세요",required:!0})]}),(0,n.jsxs)(m,{children:[(0,n.jsxs)(g,{children:[(0,n.jsx)(h,{as:"p",children:"신랑/신부측"}),(0,n.jsxs)(x,{children:[(0,n.jsx)(b,{type:"button",$selected:"GROOM"===w.side,onClick:()=>z("GROOM"),children:"신랑측"}),(0,n.jsx)(b,{type:"button",$selected:"BRIDE"===w.side,onClick:()=>z("BRIDE"),children:"신부측"})]})]}),(0,n.jsxs)(g,{children:[(0,n.jsx)(h,{as:"p",children:"참석 여부"}),(0,n.jsxs)(x,{children:[(0,n.jsx)(b,{type:"button",$selected:!0===w.isAttending,onClick:()=>M(!0),children:"참석"}),(0,n.jsx)(b,{type:"button",$selected:!1===w.isAttending,onClick:()=>M(!1),children:"불참"})]})]})]}),w.isAttending&&(0,n.jsxs)(m,{children:[(0,n.jsxs)(g,{children:[(0,n.jsx)(h,{htmlFor:"guestCount",children:"참석 인원"}),(0,n.jsx)(y,{id:"guestCount",name:"guestCount",value:w.guestCount,onChange:e=>{C({...w,guestCount:parseInt(e.target.value,10)})},children:[1,2,3,4,5].map(e=>(0,n.jsxs)("option",{value:e,children:[e,"명"]},e))})]}),$&&(0,n.jsxs)(g,{children:[(0,n.jsx)(h,{as:"p",children:"식사 여부"}),(0,n.jsxs)(x,{children:[(0,n.jsx)(b,{type:"button",$selected:!0===w.hasMeal,onClick:()=>S(!0),children:"식사 함"}),(0,n.jsx)(b,{type:"button",$selected:!1===w.hasMeal,onClick:()=>S(!1),children:"식사 안 함"})]})]})]}),(0,n.jsx)(v,{type:"submit",disabled:j,children:j?"전송 중...":"회신하기"})]})]})}}}]);