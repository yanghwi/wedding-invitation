"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[996],{4996:(e,t,o)=>{o.r(t),o.d(t,{default:()=>z});var r=o(5155),n=o(2115),i=o(4987),a=o(6766),s=o(2045);let l=(0,i.Ay)(e=>{let{className:t}=e;return(0,r.jsxs)("svg",{className:t,width:"28",height:"28",viewBox:"0 0 28 28",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,r.jsx)("circle",{cx:"14",cy:"14",r:"14",fill:"none"}),(0,r.jsx)("path",{d:"M17.5 7L11 14L17.5 21",stroke:"white",strokeWidth:"2.2",strokeLinecap:"round",strokeLinejoin:"round"})]})}).withConfig({componentId:"sc-2472b6cf-0"})(["margin-left:-0.25rem;"]),c=(0,i.Ay)(e=>{let{className:t}=e;return(0,r.jsxs)("svg",{className:t,width:"28",height:"28",viewBox:"0 0 28 28",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,r.jsx)("circle",{cx:"14",cy:"14",r:"14",fill:"none"}),(0,r.jsx)("path",{d:"M10.5 7L17 14L10.5 21",stroke:"white",strokeWidth:"2.2",strokeLinecap:"round",strokeLinejoin:"round"})]})}).withConfig({componentId:"sc-2472b6cf-1"})(["margin-right:-0.25rem;"]),d=i.Ay.div.withConfig({componentId:"sc-2472b6cf-2"})(["width:3rem;height:3rem;border:3px solid rgba(255,255,255,0.3);border-radius:50%;border-top-color:white;animation:spin 1s ease-in-out infinite;@keyframes spin{to{transform:rotate(360deg);}}"]),h=i.Ay.section.withConfig({componentId:"sc-2472b6cf-3"})(["padding:4rem 1.5rem;text-align:center;background-color:",";"],e=>"beige"===e.$bgColor?"#F8F6F2":"white"),p=i.Ay.h2.withConfig({componentId:"sc-2472b6cf-4"})(["position:relative;display:inline-block;margin-bottom:2rem;font-weight:500;font-size:1.5rem;&::after{content:'';position:absolute;bottom:-16px;left:50%;transform:translateX(-50%);width:6px;height:6px;border-radius:50%;background-color:var(--secondary-color);}"]),f=i.Ay.div.withConfig({componentId:"sc-2472b6cf-5"})(["position:relative;width:100%;max-width:100%;margin:0 auto;.left-button{position:absolute;left:-0.25rem;top:50%;transform:translateY(-50%);z-index:10;}.right-button{position:absolute;right:-0.25rem;top:50%;transform:translateY(-50%);z-index:10;}"]),g=i.Ay.div.withConfig({componentId:"sc-2472b6cf-6"})(["display:flex;overflow-x:auto;scroll-snap-type:x mandatory;gap:1rem;padding:1rem 0.5rem;-ms-overflow-style:none;scrollbar-width:none;padding-left:calc(50% - 125px);padding-right:calc(50% - 125px);&::-webkit-scrollbar{display:none;}"]),m=i.Ay.div.withConfig({componentId:"sc-2472b6cf-7"})(["scroll-snap-align:center;flex:0 0 auto;width:250px;border-radius:8px;box-shadow:0 4px 6px rgba(0,0,0,0.05);overflow:hidden;transition:transform 0.3s ease;cursor:pointer;&:hover{transform:translateY(-5px);}"]),u=i.Ay.div.withConfig({componentId:"sc-2472b6cf-8"})(["position:relative;width:100%;padding-bottom:100%;"]),w=(0,i.Ay)(a.default).withConfig({componentId:"sc-2472b6cf-9"})(["border-radius:8px;transition:transform 0.3s;&:hover{transform:scale(1.05);}"]),x=i.Ay.button.withConfig({componentId:"sc-2472b6cf-10"})(["background-color:var(--secondary-color);color:white;border:none;width:3rem;height:3rem;border-radius:50%;display:flex;align-items:center;justify-content:center;cursor:pointer;opacity:0.9;transition:all 0.3s ease;z-index:2;font-size:2rem;position:absolute;top:50%;transform:translateY(-50%);overflow:hidden;box-shadow:0 2px 8px rgba(0,0,0,0.2);&:hover{opacity:1;background-color:var(--secondary-color);box-shadow:0 3px 10px rgba(0,0,0,0.25);}&:active{transform:translateY(-50%) scale(0.95);}"]),b=i.Ay.div.withConfig({componentId:"sc-2472b6cf-11"})(["position:fixed;top:0;left:0;right:0;bottom:0;width:100vw;height:100vh;background-color:rgba(0,0,0,0.9);z-index:1000;display:flex;align-items:center;justify-content:center;"]),y=i.Ay.div.withConfig({componentId:"sc-2472b6cf-12"})(["position:relative;width:100vw;height:100vh;max-width:none;max-height:none;background-color:transparent;overflow:hidden;display:flex;align-items:center;justify-content:center;"]),v=i.Ay.div.withConfig({componentId:"sc-2472b6cf-13"})(["position:relative;width:90vw;height:90vh;max-width:90vw;max-height:90vh;display:flex;align-items:center;justify-content:center;opacity:",";transition:opacity 0.3s ease;"],e=>{let{$isLoading:t}=e;return t?.5:1}),j=i.Ay.button.withConfig({componentId:"sc-2472b6cf-14"})(["position:absolute;top:1rem;right:1rem;width:2.5rem;height:2.5rem;background-color:var(--secondary-color);color:white;border:none;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:1.5rem;cursor:pointer;z-index:10;opacity:0.9;&:hover{opacity:1;}"]),k=i.Ay.div.withConfig({componentId:"sc-2472b6cf-15"})(["padding:3rem;background-color:white;border-radius:8px;box-shadow:0 4px 6px rgba(0,0,0,0.05);max-width:36rem;margin:0 auto;"]),C=i.Ay.div.withConfig({componentId:"sc-2472b6cf-16"})(["padding:3rem;background-color:white;border-radius:8px;box-shadow:0 4px 6px rgba(0,0,0,0.05);max-width:36rem;margin:0 auto;color:#c62828;"]),A=i.Ay.div.withConfig({componentId:"sc-2472b6cf-17"})(["position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);z-index:5;"]),I=i.Ay.div.withConfig({componentId:"sc-2472b6cf-18"})(["display:grid;grid-template-columns:repeat(3,1fr);gap:1rem;max-width:800px;margin:2rem auto 0;padding:0 1rem;@media (max-width:768px){grid-template-columns:repeat(3,1fr);gap:0.5rem;padding:0 0.5rem;margin-top:1.5rem;}"]),L=i.Ay.div.withConfig({componentId:"sc-2472b6cf-19"})(["border-radius:8px;box-shadow:0 4px 6px rgba(0,0,0,0.05);overflow:hidden;transition:transform 0.3s ease;cursor:pointer;position:relative;width:100%;&:hover{transform:translateY(-5px);}"]),E=i.Ay.div.withConfig({componentId:"sc-2472b6cf-20"})(["position:relative;width:100%;padding-bottom:100%;"]),z=e=>{let{bgColor:t="white"}=e,[o,i]=(0,n.useState)([]),[z,Y]=(0,n.useState)(!0),[D,M]=(0,n.useState)(null),S=(0,n.useRef)(null),[F,N]=(0,n.useState)(null),[$,B]=(0,n.useState)(-1),[_,q]=(0,n.useState)(!1),G=(0,n.useRef)(null),R=s.f.gallery.layout||"scroll";console.log("Gallery Layout:",R),console.log("Wedding Config Gallery:",s.f.gallery),console.log("Gallery Layout from config:",s.f.gallery.layout),(0,n.useEffect)(()=>{(async()=>{try{Y(!0);let e=await fetch("/api/gallery");if(!e.ok)throw Error("갤러리 이미지를 불러오는데 실패했습니다");let t=await e.json();t.images&&t.images.length>0?i(t.images):i(s.f.gallery.images)}catch(e){console.error("갤러리 이미지 로드 오류:",e),M("이미지를 불러오는데 문제가 발생했습니다"),i(s.f.gallery.images)}finally{Y(!1)}})()},[]),(0,n.useEffect)(()=>{if(F){window.history.pushState({expandedImage:!0},"");let e=e=>{F&&(N(null),document.body.style.overflow="",e.preventDefault())};return window.addEventListener("popstate",e),()=>{window.removeEventListener("popstate",e)}}},[F]),(0,n.useEffect)(()=>{let e=0,t=0,o=o=>{e=o.touches[0].clientX,t=o.touches[0].clientY},r=o=>{let r=o.changedTouches[0].clientX,n=o.changedTouches[0].clientY,i=r-e;Math.abs(i)>Math.abs(n-t)&&Math.abs(i)>50&&(i>0?X():T())};if(F&&G.current){let e=G.current;return e.addEventListener("touchstart",o,{passive:!0}),e.addEventListener("touchend",r,{passive:!0}),()=>{e.removeEventListener("touchstart",o),e.removeEventListener("touchend",r)}}},[F]);let W=e=>{let t=o.indexOf(e);N(e),B(t),q(!0),document.body.style.overflow="hidden"},X=()=>{if($>0){let e=$-1;B(e),N(o[e]),q(!0)}},T=()=>{if($<o.length-1){let e=$+1;B(e),N(o[e]),q(!0)}},O=()=>{N(null),B(-1),q(!1),document.body.style.overflow="",window.history.state&&window.history.state.expandedImage&&window.history.back()};return((0,n.useEffect)(()=>{let e=e=>{if(F)switch(e.key){case"ArrowLeft":e.preventDefault(),X();break;case"ArrowRight":e.preventDefault(),T();break;case"Escape":e.preventDefault(),O()}},t=e=>{F&&(e.preventDefault(),e.deltaY>0?T():X())};if(F)return document.addEventListener("keydown",e),document.addEventListener("wheel",t,{passive:!1}),()=>{document.removeEventListener("keydown",e),document.removeEventListener("wheel",t)}},[F,$,o]),z)?(0,r.jsxs)(h,{$bgColor:t,children:[(0,r.jsx)(p,{children:"갤러리"}),(0,r.jsx)(k,{children:"이미지를 불러오는 중..."})]}):D||0===o.length?(0,r.jsxs)(h,{$bgColor:t,children:[(0,r.jsx)(p,{children:"갤러리"}),(0,r.jsx)(C,{children:D||"갤러리 이미지가 없습니다"})]}):(0,r.jsxs)(h,{$bgColor:t,children:[(0,r.jsx)(p,{children:"갤러리"}),"grid"===R?(0,r.jsx)(I,{children:o.map((e,t)=>(0,r.jsx)(L,{onClick:()=>W(e),children:(0,r.jsx)(E,{children:(0,r.jsx)(w,{src:e,alt:"웨딩 갤러리 이미지 ".concat(t+1),fill:!0,sizes:"(max-width: 768px) calc(33.333vw - 1rem), calc(33.333vw - 2rem)",quality:85,priority:t<6,style:{objectFit:"cover"},draggable:!1,onContextMenu:e=>e.preventDefault()})})},t))}):(0,r.jsxs)(f,{children:[(0,r.jsx)(x,{onClick:()=>{S.current&&S.current.scrollBy({left:-266,behavior:"smooth"})},"aria-label":"이전 이미지들",className:"left-button",children:(0,r.jsx)(l,{})}),(0,r.jsx)(g,{ref:S,children:o.map((e,t)=>(0,r.jsx)(m,{onClick:()=>W(e),children:(0,r.jsx)(u,{children:(0,r.jsx)(w,{src:e,alt:"웨딩 갤러리 이미지 ".concat(t+1),fill:!0,sizes:"(max-width: 768px) 250px, 300px",quality:85,priority:t<3,style:{objectFit:"cover"},draggable:!1,onContextMenu:e=>e.preventDefault()})})},t))}),(0,r.jsx)(x,{onClick:()=>{S.current&&S.current.scrollBy({left:266,behavior:"smooth"})},"aria-label":"다음 이미지들",className:"right-button",children:(0,r.jsx)(c,{})})]}),F&&(0,r.jsx)(b,{ref:G,onClick:O,"aria-modal":"true",role:"dialog",children:(0,r.jsxs)(y,{onClick:e=>e.stopPropagation(),children:[_&&(0,r.jsx)(A,{children:(0,r.jsx)(d,{})}),(0,r.jsx)(v,{$isLoading:_,children:(0,r.jsx)(a.default,{src:F,alt:"확대된 웨딩 갤러리 이미지",fill:!0,sizes:"90vw",quality:90,style:{objectFit:"contain",background:"transparent"},draggable:!1,onContextMenu:e=>e.preventDefault(),onLoad:()=>{q(!1)},onError:()=>{q(!1)}})}),(0,r.jsx)(j,{onClick:O,"aria-label":"닫기",children:"\xd7"})]})})]})}}}]);